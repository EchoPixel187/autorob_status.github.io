<!DOCTYPE html>
<html>
<head>
  <title>Script Logs</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>
<body>

<h2>Logs</h2>
<table border="1" id="table">
  <tr>
    <th>User ID</th>
    <th>Username</th>
    <th>Time</th>
  </tr>
</table>

<script>
const supabase = supabase.createClient(
  "https://DEINPROJEKT.supabase.co",
  "DEIN_PUBLIC_ANON_KEY"
)

async function loadLogs() {
  const { data } = await supabase
    .from('logs')
    .select('*')
    .order('created_at', { ascending: false })

  const table = document.getElementById("table")

  table.innerHTML = `
    <tr>
      <th>User ID</th>
      <th>Username</th>
      <th>Time</th>
    </tr>
  `

  data.forEach(row => {
    table.innerHTML += `
      <tr>
        <td>${row.user_id}</td>
        <td>${row.username}</td>
        <td>${row.created_at}</td>
      </tr>
    `
  })
}

loadLogs()
setInterval(loadLogs, 10000)
</script>

</body>
</html>
